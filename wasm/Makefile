# source "/home/daniel/Pulled/emsdk/emsdk_env.sh"

CC := emcc
CPP := em++

WARN := -fvisibility-inlines-hidden -Wall -W -Wno-unused-parameter -Wwrite-strings -Wcast-qual -Wno-missing-field-initializers -pedantic -Wno-long-long -Wno-maybe-uninitialized -Wdelete-non-virtual-dtor -Wno-comment
CPPFLAGS := -DLLVM_ENABLE_ARCH_AArch64 -D_GNU_SOURCE -D__STDC_CONSTANT_MACROS -D__STDC_FORMAT_MACROS -D__STDC_LIMIT_MACROS -Dkeystone_EXPORTS -I/home/daniel/Documents/re/wasm/keystone/build/llvm/keystone -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone -I/home/daniel/Documents/re/wasm/keystone/build/llvm/include -I/home/daniel/Documents/re/wasm/keystone/llvm/include -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../../include -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/AArch64 -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/ARM -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/Hexagon -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/Mips -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/PowerPC -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/Sparc -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/SystemZ -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/X86 -I/home/daniel/Documents/re/wasm/keystone/llvm/keystone/../lib/Target/RISCV -fPIC $(WARN) -std=c++11 -ffunction-sections -fdata-sections -DNDEBUG -fPIC -fvisibility=hidden

KEYSTONE_FILES := keystone/llvm/lib/MC/ConstantPools.o keystone/llvm/lib/MC/ELFObjectWriter.o keystone/llvm/lib/MC/MCAsmBackend.o keystone/llvm/lib/MC/MCAsmInfo.o keystone/llvm/lib/MC/MCAsmInfoCOFF.o keystone/llvm/lib/MC/MCAsmInfoDarwin.o keystone/llvm/lib/MC/MCAsmInfoELF.o keystone/llvm/lib/MC/MCAssembler.o keystone/llvm/lib/MC/MCCodeEmitter.o keystone/llvm/lib/MC/MCContext.o keystone/llvm/lib/MC/MCELFObjectTargetWriter.o keystone/llvm/lib/MC/MCELFStreamer.o keystone/llvm/lib/MC/MCExpr.o keystone/llvm/lib/MC/MCFragment.o keystone/llvm/lib/MC/MCInst.o keystone/llvm/lib/MC/MCInstrDesc.o keystone/llvm/lib/MC/MCLabel.o keystone/llvm/lib/MC/MCObjectFileInfo.o keystone/llvm/lib/MC/MCObjectStreamer.o keystone/llvm/lib/MC/MCObjectWriter.o keystone/llvm/lib/MC/MCParser/AsmLexer.o keystone/llvm/lib/MC/MCParser/AsmParser.o keystone/llvm/lib/MC/MCParser/COFFAsmParser.o keystone/llvm/lib/MC/MCParser/DarwinAsmParser.o keystone/llvm/lib/MC/MCParser/ELFAsmParser.o keystone/llvm/lib/MC/MCParser/MCAsmLexer.o keystone/llvm/lib/MC/MCParser/MCAsmParser.o keystone/llvm/lib/MC/MCParser/MCAsmParserExtension.o keystone/llvm/lib/MC/MCParser/MCTargetAsmParser.o keystone/llvm/lib/MC/MCRegisterInfo.o keystone/llvm/lib/MC/MCSection.o keystone/llvm/lib/MC/MCSectionCOFF.o keystone/llvm/lib/MC/MCSectionELF.o keystone/llvm/lib/MC/MCSectionMachO.o keystone/llvm/lib/MC/MCStreamer.o keystone/llvm/lib/MC/MCSubtargetInfo.o keystone/llvm/lib/MC/MCSymbol.o keystone/llvm/lib/MC/MCSymbolELF.o keystone/llvm/lib/MC/MCTargetOptions.o keystone/llvm/lib/MC/MCValue.o keystone/llvm/lib/MC/StringTableBuilder.o keystone/llvm/lib/MC/SubtargetFeature.o keystone/llvm/lib/Support/APFloat.o keystone/llvm/lib/Support/APInt.o keystone/llvm/lib/Support/APSInt.o keystone/llvm/lib/Support/ARMBuildAttrs.o keystone/llvm/lib/Support/ErrorHandling.o keystone/llvm/lib/Support/Hashing.o keystone/llvm/lib/Support/IntEqClasses.o keystone/llvm/lib/Support/LEB128.o keystone/llvm/lib/Support/Memory.o keystone/llvm/lib/Support/MemoryBuffer.o keystone/llvm/lib/Support/Path.o keystone/llvm/lib/Support/Regex.o keystone/llvm/lib/Support/ScaledNumber.o keystone/llvm/lib/Support/SmallPtrSet.o keystone/llvm/lib/Support/SmallVector.o keystone/llvm/lib/Support/SourceMgr.o keystone/llvm/lib/Support/StringExtras.o keystone/llvm/lib/Support/StringMap.o keystone/llvm/lib/Support/StringPool.o keystone/llvm/lib/Support/StringRef.o keystone/llvm/lib/Support/StringSaver.o keystone/llvm/lib/Support/TargetParser.o keystone/llvm/lib/Support/TargetRegistry.o keystone/llvm/lib/Support/Triple.o keystone/llvm/lib/Support/Twine.o keystone/llvm/lib/Support/raw_ostream.o keystone/llvm/lib/Support/regcomp.c.o keystone/llvm/lib/Support/regerror.c.o keystone/llvm/lib/Support/regexec.c.o keystone/llvm/lib/Support/regfree.c.o keystone/llvm/lib/Support/regstrlcpy.c.o keystone/llvm/lib/Target/AArch64/AsmParser/AArch64AsmParser.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64AsmBackend.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64ELFObjectWriter.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64MCAsmInfo.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64MCCodeEmitter.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64MCExpr.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64MCTargetDesc.o keystone/llvm/lib/Target/AArch64/MCTargetDesc/AArch64TargetStreamer.o keystone/llvm/lib/Target/AArch64/TargetInfo/AArch64TargetInfo.o keystone/llvm/lib/Target/AArch64/Utils/AArch64BaseInfo.o

# CMakeFiles/keystone.dir/ks.o CMakeFiles/keystone.dir/EVMMapping.o

keystone: $(KEYSTONE_FILES)

%.o: %.cpp
	$(CPP) $(CPPFLAGS) -o $@ -c $^

hello.html: shell.html hello.c
	emcc -o hello.html hello.c --shell-file shell.html

s:
	python3 -m http.server
